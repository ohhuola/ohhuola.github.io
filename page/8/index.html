<!DOCTYPE html>
<html>

<head><meta name="generator" content="Hexo 3.8.0">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="theme-color" content="#33474d">
	<title>Security Learning</title>
	<link rel="stylesheet" href="/css/style.css">
	
      <link rel="alternate" href="/atom.xml" title="Security Learning" type="application/atom+xml">
    
</head>

<body>

	<header class="header">
		<nav class="header__nav">
			
				<a href="/archives" class="header__link">Archive</a>
			
				<a href="/tags" class="header__link">Tags</a>
			
				<a href="/categories" class="header__link">Categories</a>
			
		</nav>
		<h1 class="header__title"><a href="/">Security Learning</a></h1>
		<h2 class="header__subtitle">on own time</h2>
	</header>

	<main>
		
	<span class="different-posts different-posts_earlier">ğŸ“– <a href="/page/7">earlier posts</a> ğŸ“–</span>




	<article>
	
		<h1><a href="/2019/04/29/Application Layer/">è‡ªé¡¶å‘ä¸‹è®¡ç®—æœºç½‘ç»œçŸ¥è¯†ç¬”è®°(äºŒ)</a></h1>
	
	<div class="article__infos">
		<span class="article__date">2019-04-29</span><br>
		
			<span class="article__category">
				<a class="article-category-link" href="/categories/Computer-Network/">Computer Network</a>
			</span><br>
		
		
			<span class="article__tags">
			  	<a class="article__tag-link" href="/tags/Notebook/">Notebook</a>
			</span>
		
	</div>

	

	
		<h1 id="Application-Layer"><a href="#Application-Layer" class="headerlink" title="Application Layer"></a>Application Layer</h1><h2 id="Principles-of-network-applications"><a href="#Principles-of-network-applications" class="headerlink" title="Principles of network applications"></a>Principles of network applications</h2><h3 id="architecture"><a href="#architecture" class="headerlink" title="architecture"></a>architecture</h3><ul>
<li><p>Client-server</p>
<ul>
<li><p>server</p>
<ul>
<li>æ°¸è¿œåœ¨çº¿</li>
<li>å›ºå®šçš„IP</li>
<li>Web,FTP,email,Telnet</li>
<li>data center for scaling</li>
</ul>
</li>
<li><p>clients</p>
<ul>
<li>ä¸æœåŠ¡å™¨é€šä¿¡</li>
<li>é—´æ–­åœ°è¿æ¥(intermittently)</li>
<li>åŠ¨æ€IP</li>
<li>æ— æ³•ç›´æ¥ä¸å½¼æ­¤é€šä¿¡</li>
</ul>
</li>
</ul>
</li>
<li><p>peer-to-peer</p>
<ul>
<li>æ²¡æœ‰æ°¸è¿œåœ¨çº¿çš„æœåŠ¡å™¨</li>
<li>ç»ˆç«¯ä¹‹é—´ç›´æ¥é€šä¿¡</li>
<li>å¯æ”¶ç¼©æ€§(self-scalability):æ–°çš„peerså¸¦æ¥æä¾›æœåŠ¡çš„èƒ½åŠ›å’Œéœ€æ±‚</li>
<li>peersé—´æ–­åœ°è¿æ¥ï¼Œæ”¹å˜IPåœ°å€</li>
<li>æ€§ä»·æ¯”æ›´é«˜(cost effective)</li>
<li><p>ä¸»è¦çš„æŒ‘æˆ˜</p>
<ul>
<li>ISP Friendly</li>
<li>Security</li>
<li>Incentives(æ¿€åŠ±)</li>
</ul>
</li>
</ul>
</li>
<li><p>hybrid of client-server and P2P</p>
<ul>
<li><p>åŠæ—¶æ¶ˆæ¯åº”ç”¨</p>
<ul>
<li><p>ä¸­å¿ƒæœåŠ¡</p>
<ul>
<li>ç”¨æˆ·åœ¨è”æœºæ—¶å‘ä¸­å¤®æœåŠ¡å™¨æ³¨å†Œå…¶IPåœ°å€</li>
<li>ç”¨æˆ·è”ç³»ä¸­å¤®æœåŠ¡å™¨ä»¥æŸ¥æ‰¾å¥½å‹çš„IPåœ°å€</li>
</ul>
</li>
<li><p>ä¸¤ä¸ªç”¨æˆ·ä¹‹é—´çš„èŠå¤©æ˜¯é‡‡ç”¨P2P</p>
</li>
</ul>
</li>
<li><p>Skype</p>
<ul>
<li>VOIP P2P application</li>
<li>centralized server(ä¸­å¿ƒæœåŠ¡):æ‰¾åˆ°ä»–äººçš„åœ°å€</li>
<li>client-client connection:direct(not through server)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="è¿›ç¨‹é€šä¿¡"><a href="#è¿›ç¨‹é€šä¿¡" class="headerlink" title="è¿›ç¨‹é€šä¿¡"></a>è¿›ç¨‹é€šä¿¡</h3><ul>
<li>åŒä¸€ä¸ªä¸»æœºä¸­ï¼Œåˆ©ç”¨è¿›ç¨‹é—´é€šä¿¡(IPC)</li>
<li><p>ä¸åŒä¸»æœº</p>
<ul>
<li>sending process:åˆ›å»ºï¼Œå‘é€æ¶ˆæ¯</li>
<li>receiving process:æ¥æ”¶æ¶ˆæ¯ï¼Œå“åº”</li>
</ul>
</li>
<li><p>Define</p>
<ul>
<li>client:åˆå§‹åŒ–é€šä¿¡(client broswer)</li>
<li>server:ç­‰å¾…è¿æ¥ï¼Œå¼€å§‹ä¼šè¯(web server)</li>
</ul>
</li>
<li><p>P2Pä¹Ÿå¯ä»¥å®šä¹‰ä¸ºclient-server</p>
</li>
</ul>
<h3 id="å¥—æ¥å­—"><a href="#å¥—æ¥å­—" class="headerlink" title="å¥—æ¥å­—"></a>å¥—æ¥å­—</h3><h3 id="å¯»å€è¿‡ç¨‹"><a href="#å¯»å€è¿‡ç¨‹" class="headerlink" title="å¯»å€è¿‡ç¨‹"></a>å¯»å€è¿‡ç¨‹</h3><ul>
<li>è¿›ç¨‹å¿…é¡»æœ‰æ ‡è¯†ç¬¦</li>
<li>IPåœ°å€ä¸èƒ½ä½œä¸ºè¿›ç¨‹çš„æ ‡è¯†ç¬¦</li>
<li>æ ‡è¯†ç¬¦åŒ…æ‹¬äº†IPåœ°å€ä¸ç«¯å£å·</li>
</ul>
<h3 id="App-layeråè®®å®šä¹‰"><a href="#App-layeråè®®å®šä¹‰" class="headerlink" title="App-layeråè®®å®šä¹‰"></a>App-layeråè®®å®šä¹‰</h3><ul>
<li>type of messages exchanged</li>
<li>message syntax(è¯­æ³•),semantics(è¯­ä¹‰)</li>
<li>rules for when&amp;how processes send&amp;respond to messages</li>
<li>è¿˜å¯ä»¥å®šä¹‰ä¸ºå…¬å¼€åè®®(open protocols)å’Œç§æœ‰åè®®(proprietary protocols)å¦‚:skype,QQ,Thunder</li>
</ul>
<h3 id="appéœ€è¦çš„ä¼ è¾“æœåŠ¡"><a href="#appéœ€è¦çš„ä¼ è¾“æœåŠ¡" class="headerlink" title="appéœ€è¦çš„ä¼ è¾“æœåŠ¡"></a>appéœ€è¦çš„ä¼ è¾“æœåŠ¡</h3><ul>
<li>æ•°æ®å®Œæ•´æ€§(data integrity)</li>
<li>åŠæ—¶æ€§</li>
<li>ååé‡(Throughput)</li>
<li>å®‰å…¨æ€§</li>
<li>UDP/TCPå‡ä¸æä¾›timingå’Œthroughputä¿è¯</li>
</ul>
<h3 id="å®‰å…¨å¥—æ¥å±‚-SSL"><a href="#å®‰å…¨å¥—æ¥å±‚-SSL" class="headerlink" title="å®‰å…¨å¥—æ¥å±‚(SSL)"></a>å®‰å…¨å¥—æ¥å±‚(SSL)</h3><ul>
<li>TCP/UDPè¿˜æ²¡æœ‰åŠ å¯†ï¼Œæ‰€ä»¥å¼•å…¥äº†SSL</li>
<li>èƒ½å¤Ÿæä¾›encrypted connection,data integrity,end-point authentication</li>
<li>åœ¨åº”ç”¨å±‚å®æ–½</li>
<li>SSLæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ Ans:SSLå°†åº”ç”¨å±‚æœªåŠ å¯†çš„æ•°æ®è¿›è¡Œäº†åŠ å¯†ä¹‹ååœ¨ä¼ è¾“ç»™TCPå¥—æ¥å­—ï¼Œå¦‚æœæƒ³è¦ä½¿ç”¨SSLï¼Œé‚£ä¹ˆåº”ç”¨ç¨‹åºä¸­å¿…é¡»åŒ…å«SSLçš„ä»£ç ã€‚</li>
</ul>
<h2 id="Web-and-HTTP"><a href="#Web-and-HTTP" class="headerlink" title="Web and HTTP"></a>Web and HTTP</h2><h3 id="web-pageåŒ…æ‹¬base-HTML-file-å’Œä¸€äº›referenced-objects"><a href="#web-pageåŒ…æ‹¬base-HTML-file-å’Œä¸€äº›referenced-objects" class="headerlink" title="web pageåŒ…æ‹¬base HTML file å’Œä¸€äº›referenced objects"></a>web pageåŒ…æ‹¬base HTML file å’Œä¸€äº›referenced objects</h3><h3 id="HTTP-è¶…æ–‡æœ¬ä¼ è¾“åè®®"><a href="#HTTP-è¶…æ–‡æœ¬ä¼ è¾“åè®®" class="headerlink" title="HTTP(è¶…æ–‡æœ¬ä¼ è¾“åè®®)"></a>HTTP(è¶…æ–‡æœ¬ä¼ è¾“åè®®)</h3><ul>
<li><p>æ­¥éª¤</p>
<ul>
<li>å®¢æˆ·ç«¯åˆå§‹åŒ–TCPè¿æ¥(åˆ›å»ºå¥—æ¥å­—),port 80</li>
<li>æœåŠ¡å™¨åˆ›å»ºTCPè¿æ¥</li>
<li>HTTP messages(app-layer) åœ¨å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´äº¤æ¢</li>
<li>TCPè¿æ¥å…³é—­</li>
</ul>
</li>
<li><p>ç‰¹ç‚¹</p>
<ul>
<li>stateless protocol</li>
<li>é‡‡ç”¨TCP</li>
</ul>
</li>
<li><p>HTTP è¿æ¥</p>
<ul>
<li><p>non-persistentè¿æ¥</p>
<ul>
<li>éæŒç»­è¿æ¥:æ¯ä¸€ä¸ªè¯·æ±‚/å“åº”å¯¹éƒ½ä½¿ç”¨ä¸€ä¸ªç‹¬ç«‹çš„TCPè¿æ¥.</li>
<li>ä¸‹è½½å¤šä¸ªobjectséœ€è¦å¤šä¸ªè¿æ¥</li>
<li><p>ç¼ºç‚¹</p>
<ul>
<li>established and maintained for eachrequested object,</li>
<li>can place a significant burden<br>on the Web server</li>
<li>å¿…é¡»ç»™åˆ†é…TCPç¼“å†²åŒºï¼Œå¹¶ä¸”å¿…é¡»åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¸­ä¿ç•™TCPå˜é‡</li>
<li>each object suffers a delivery<br>delay of more than two RTTs</li>
</ul>
</li>
</ul>
</li>
<li><p>persistentè¿æ¥</p>
<ul>
<li>æ‰€æœ‰çš„è¯·æ±‚/å“åº”å¯¹éƒ½ä½¿ç”¨ç›¸åŒçš„TCPè¿æ¥.</li>
<li>å¯ä»¥é€šè¿‡å®¢æˆ·ç«¯ï¼ŒæœåŠ¡å™¨ä¹‹é—´çš„å•ä¸ªTCPè¿æ¥å‘é€å¤šä¸ªå¯¹è±¡</li>
<li><p>ä¼˜ç‚¹</p>
<ul>
<li>å½“é‡åˆ°referenced objectsçš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯ç«‹åˆ»å‘é€è¯·æ±‚</li>
<li>æ‰€æœ‰çš„referenced objectåªéœ€è¦ä¸€ä¸ªRTT</li>
</ul>
</li>
<li><p>default mode of HTTP uses persistent connections with pipelinling (æµæ°´çº¿ï¼‰</p>
</li>
</ul>
</li>
<li><p>ç¬¬ä¸€æ¬¡httpè¯·æ±‚æ—¶ï¼Œè¯·æ±‚åˆ°ä¸€ä¸ªhtml fileï¼Œè§£ææ—¶èƒ½å¤Ÿæ‰¾åˆ°å¼•ç”¨çš„å¯¹è±¡ï¼Œè¿›è€Œå†æ¬¡å‘èµ·è¯·æ±‚</p>
</li>
</ul>
</li>
<li><p>Round-trip Time(RTT, è¿”å›æ—¶é—´)</p>
<ul>
<li>ä¸€ä¸ªåŒ…ä»å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨å†è¿”å›æ‰€éœ€çš„æ—¶é—´</li>
<li>åŒ…æ‹¬äº†processing delays,queuing delays, and propagation delays</li>
</ul>
</li>
<li><p>HTTP Respond time</p>
<ul>
<li>ä¸€ä¸ªRTTæ¥åˆå§‹åŒ–TCPè¿æ¥</li>
<li>ä¸€ä¸ªRTTç”¨äºHTTPè¯·æ±‚å’Œå“åº”</li>
<li>file transmission time</li>
<li>=2RTT+file transmission time</li>
</ul>
</li>
<li><p>HTTP Request message</p>
<ul>
<li><p>request line</p>
<ul>
<li>method</li>
<li>url</li>
<li>version</li>
</ul>
</li>
<li><p>header lines</p>
</li>
<li>blank lines</li>
<li>body lines</li>
</ul>
</li>
<li><p>HTTP respond message</p>
<ul>
<li><p>status line</p>
<ul>
<li>version</li>
<li>status code</li>
<li>status message(phrase)</li>
</ul>
</li>
<li><p>header lines</p>
</li>
<li>blank lines</li>
<li>body lines</li>
</ul>
</li>
<li><p>Method types</p>
<ul>
<li>GET:</li>
<li>POST:</li>
<li>HEAD:asks server to leave requested object out of response (for debugging)</li>
<li>PUT:uploads file in entity body to the path specified in URL field (web publishing)</li>
<li>DELETE:deletes file specified in the URL field</li>
</ul>
</li>
<li><p>Status code</p>
<ul>
<li>200 OK,request succeeded, requested object later in this msg</li>
<li>301 Moved Permanently,requested object moved, new location specified later in this msg(Location:)</li>
<li>400 Bad Request,request msg not understood by server</li>
<li>404 Not Found,requested document not found on this server</li>
<li>505 HTTP Version Not Supported</li>
</ul>
</li>
<li><p>Cookies</p>
<ul>
<li>To identify users, many Web sites use cookies (HTTP protocol can not do this!)</li>
<li><p>å››ä¸ªç»„æˆéƒ¨åˆ†</p>
<ul>
<li>cookie header line of HTTP responsemessage</li>
<li>cookie header line in next HTTP request message</li>
<li>cookie file kept on userâ€™s host, managed by<br>userâ€™s browser</li>
<li>back-end(åç«¯) database at Web site</li>
</ul>
</li>
<li><p>cookieå°±æ˜¯åœ¨æ— çŠ¶æ€çš„httpä¸Šåˆ›å»ºäº†ä¸€ä¸ªç”¨æˆ·ä¼šè¯å±‚æ¥æºå¸¦çŠ¶æ€</p>
</li>
</ul>
</li>
<li><p>Web caches(proxy server ä»£ç†æœåŠ¡å™¨)</p>
<ul>
<li>ç›®æ ‡:ä¸ä½¿ç”¨åŸå§‹æœåŠ¡å™¨ä¹Ÿèƒ½æ»¡è¶³å®¢æˆ·ç«¯çš„è¯·æ±‚</li>
<li><p>ä½¿ç”¨æ­¥éª¤</p>
<ul>
<li>ç”¨æˆ·é€šè¿‡è®¾ç½®ä»£ç†æœåŠ¡å™¨æ¥è®¿é—®web</li>
<li>æµè§ˆå™¨å°†æ‰€æœ‰çš„HTTPè¯·æ±‚å‘é€ç»™proxy server</li>
<li>å¦‚æœè¯·æ±‚å¯¹è±¡åœ¨ç¼“å­˜ä¸­åˆ™è¿”å›</li>
<li>å¦‚æœä¸åœ¨,ç¼“å­˜å°±ä¼šåˆ°åŸå§‹æœåŠ¡å™¨ä¸­å»è¯·æ±‚å¯¹è±¡,ç„¶åå°†å…¶è¿”å›ç»™å®¢æˆ·ç«¯</li>
</ul>
</li>
<li><p>ä»£ç†æœåŠ¡å™¨æ—¢æ˜¯å®¢æˆ·ç«¯åˆæ˜¯æœåŠ¡å™¨,å®ƒé€šå¸¸ç”±ISPå®‰è£…</p>
</li>
<li><p>å‡ºç°çš„åŸå› </p>
<ul>
<li>å‡å°‘å®¢æˆ·ç«¯è¯·æ±‚çš„å“åº”æ—¶é—´</li>
<li>reduce traffic on an institutionâ€™s access link</li>
</ul>
</li>
</ul>
</li>
<li><p>Conditional GET</p>
<ul>
<li>é—®é¢˜:é©»ç•™åœ¨Webç¼“å­˜ä¸­çš„å¯¹è±¡çš„å‰¯æœ¬å¯èƒ½æ˜¯é™ˆæ—§çš„</li>
<li>ç›®æ ‡:å…è®¸Webç¼“å­˜æ£€æŸ¥å¯¹è±¡æ˜¯å¦æ˜¯æœ€æ–°çš„,å¦‚æœç¼“å­˜æ˜¯æœ€æ–°çš„ç‰ˆæœ¬,é‚£ä¹ˆåŸå§‹æœåŠ¡å™¨å°†ä¸ä¼šå‘é€å¯¹è±¡</li>
<li>web cacheé€šè¿‡If-modified-since:<date>åœ¨HTTPè¯·æ±‚ä¸­æŒ‡å®šç¼“å­˜å‰¯æœ¬çš„æ—¥æœŸ</date></li>
<li>origin serverï¼šå¦‚æœç¼“å­˜çš„å‰¯æœ¬æ˜¯æœ€æ–°çš„ï¼Œåˆ™responseä¸åŒ…å«ä»»ä½•å¯¹è±¡</li>
</ul>
</li>
</ul>
<h2 id="FTP-the-file-transfer-protocol"><a href="#FTP-the-file-transfer-protocol" class="headerlink" title="FTP(the file transfer protocol)"></a>FTP(the file transfer protocol)</h2><h3 id="client-server-model"><a href="#client-server-model" class="headerlink" title="client/server model"></a>client/server model</h3><ul>
<li>client:åˆå§‹åŒ–ä¼ è¾“</li>
<li>server:è¿œç¨‹ä¸»æœº</li>
</ul>
<h3 id="connection-TCP"><a href="#connection-TCP" class="headerlink" title="connection(TCP)"></a>connection(TCP)</h3><ul>
<li><p>control connection</p>
<ul>
<li>port 21</li>
<li>æµè§ˆè¿œç¨‹ç›®å½•,å‘é€å‘½ä»¤</li>
<li>ç”¨æˆ·ä¼šè¯æœªè¿‡æœŸå‰control connection ä¿æŒå¼€æ”¾</li>
<li>out of bandå¸¦å¤–</li>
</ul>
</li>
<li><p>data connection</p>
<ul>
<li>port 20</li>
<li>å½“æœåŠ¡å™¨æ¥æ”¶åˆ°æ–‡ä»¶ä¼ è¾“æŒ‡ä»¤æ—¶æ‰“å¼€data connection</li>
<li>å½“ä¼ è¾“å®Œä¸€ä¸ªæ–‡ä»¶å,æœåŠ¡å™¨å°±å…³é—­data connection</li>
<li>æœåŠ¡å™¨æ‰“å¼€å¦ä¸€ä¸ªTCPæ•°æ®è¿æ¥ä»¥ä¼ è¾“å¦ä¸€ä¸ªæ–‡ä»¶</li>
</ul>
</li>
<li><p>FTPæœåŠ¡å™¨ç»´æŠ¤â€œçŠ¶æ€â€ï¼šå½“å‰ç›®å½•ï¼Œæ—©æœŸéªŒè¯</p>
</li>
<li>stateful protocol</li>
<li>Why â€œout-of-bandâ€? Ans: FTPä½¿ç”¨äº†ä¸¤ä¸ªå¹¶è¡Œè¿æ¥ï¼Œä¸€ä¸ªç”¨äºå‘é€æ§åˆ¶ä¿¡æ¯ï¼Œå¦ä¸€ä¸ªç”¨äºå‘é€æ•°æ®ä¿¡æ¯ã€‚ç”±äºæ§åˆ¶ä¿¡æ¯ä¸æ•°æ®ä¸åœ¨åŒä¸€ä¸ªTCPè¿æ¥ä¸­ä¼ è¾“ï¼Œæ‰€ä»¥FTPå‘é€æ§åˆ¶ä¿¡æ¯out-of-bandã€‚</li>
</ul>
<h3 id="FTP-Commands"><a href="#FTP-Commands" class="headerlink" title="FTP Commands"></a>FTP Commands</h3><ul>
<li>å‘control channelå‘é€ASCII text</li>
<li>USER username</li>
<li>PASS password</li>
<li>LIST return list of file in current directory</li>
<li>RETR filename retrieves file</li>
<li>STOR filename stores (puts) file onto remote host</li>
</ul>
<h3 id="FTP-return-code"><a href="#FTP-return-code" class="headerlink" title="FTP return code"></a>FTP return code</h3><ul>
<li>status code and phrase(as in HTTP)</li>
<li>331 username OK, password required</li>
<li>125 data connection already open;transfer starting</li>
<li>425 canâ€™t open data connection</li>
<li>452 Error writing file</li>
</ul>
<h2 id="Electronic-mail"><a href="#Electronic-mail" class="headerlink" title="Electronic mail"></a>Electronic mail</h2><h3 id="three-major-components"><a href="#three-major-components" class="headerlink" title="three major components"></a>three major components</h3><ul>
<li>user agents</li>
<li><p>mail servers</p>
<ul>
<li>mailboxåŒ…å«ç”¨æˆ·çš„incoming messages</li>
<li>message queueåŒ…å«å°†è¦è¢«å‘é€çš„é‚®ä»¶æ¶ˆæ¯</li>
</ul>
</li>
<li><p>simple mail transfer protocol(SMTP)</p>
<ul>
<li>é‚®ä»¶æœåŠ¡å™¨ä¹‹é—´ç”¨SMTPåè®®å‘é€ç”µå­é‚®ä»¶</li>
<li>ä½¿ç”¨TCPä¼ è¾“ç”µå­é‚®ä»¶æ¶ˆæ¯ï¼Œç«¯å£25ï¼ˆæœåŠ¡å™¨ï¼‰ï¼ŒæŒä¹…è¿æ¥ï¼ˆæŒä¹…ï¼‰</li>
<li>ç›´æ¥ä¼ è¾“ï¼šå°†æœåŠ¡å™¨ï¼ˆSMTPå®¢æˆ·ç«¯ï¼‰å‘é€åˆ°æ¥æ”¶æœåŠ¡å™¨ï¼ˆSMTPæœåŠ¡å™¨ï¼‰</li>
<li>æ¶ˆæ¯ä¸€å®šè¦æ˜¯7-bitçš„ASCIIç </li>
<li><p>å‘½ä»¤ä¸å“åº”çš„äº¤äº’</p>
<ul>
<li>commands:ASCII text(HELO,MAIL FROM,RCPT TO,DATA,QUIT</li>
<li>response:status code and phrase</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="comparison-with-HTTP"><a href="#comparison-with-HTTP" class="headerlink" title="comparison with HTTP"></a>comparison with HTTP</h3><ul>
<li>SMTPä½¿ç”¨persistent connections, stateful protocol, 7-bit ASCII(MIME), CRLF.CRLFæ¥å†³å®šæ¶ˆæ¯çš„ç»“æŸ</li>
<li><p>similar</p>
<ul>
<li>ASCII command/response</li>
<li>interaction</li>
<li>status code</li>
<li>persistent HTTPä¸SMTPä½¿ç”¨æŒä¹…è¿æ¥</li>
</ul>
</li>
<li><p>different</p>
<ul>
<li>HTTPæ˜¯æ‹‰çš„åè®®;SMTPæ˜¯æ¨çš„åè®®</li>
<li>SMTPè¦æ±‚æ¯ä¸ªæ¶ˆæ¯å¿…é¡»æ˜¯7-bit ASCIIæ ¼å¼;HTTPæ²¡æœ‰è¦æ±‚</li>
<li>HTTPæ¯ä¸ªå¯¹è±¡å¯¹åº”ä¸€ä¸ªHTTPç›¸åº”è¦æ±‚;SMTPæ‰€æœ‰å¯¹è±¡æ”¾åœ¨ä¸€ä¸ªæ¶ˆæ¯é‡Œ</li>
</ul>
</li>
</ul>
<h3 id="mail-message-format"><a href="#mail-message-format" class="headerlink" title="mail message format"></a>mail message format</h3><ul>
<li>ç±»ä¼¼é‚®å±€ä¹‹é—´æ–°å»ºä¼ é€’è§„åˆ™</li>
<li><p>header lines</p>
<ul>
<li>To(required)</li>
<li>From(required)</li>
<li>Subject(optional)</li>
<li>æ³¨æ„ MAIL FROM æ˜¯åœ¨SMTPä¸­æ˜¯æ¥è‡ªSMTPå®¢æˆ·ç«¯çš„æ¶ˆæ¯ï¼Œç”¨äºæ ‡è¯†å‘é€åˆ°SMTPæœåŠ¡å™¨çš„é‚®ä»¶çš„å‘ä»¶äººã€‚è€ŒFromåªæ˜¯é‚®ä»¶ä¸­æ­£æ–‡çš„ä¸€è¡Œã€‚</li>
</ul>
</li>
<li><p>blank line(CRLF)</p>
</li>
<li><p>body(ASCII)</p>
<ul>
<li>åªå…è®¸ASCII</li>
<li>MIME(å¤šç”¨é€”äº’è”ç½‘é‚®ä»¶æ‰©å±•)</li>
</ul>
</li>
</ul>
<h3 id="SMTP-å‘é€-å­˜å‚¨æ¥æ”¶è€…æœåŠ¡å™¨-push"><a href="#SMTP-å‘é€-å­˜å‚¨æ¥æ”¶è€…æœåŠ¡å™¨-push" class="headerlink" title="SMTP:å‘é€/å­˜å‚¨æ¥æ”¶è€…æœåŠ¡å™¨(push)"></a>SMTP:å‘é€/å­˜å‚¨æ¥æ”¶è€…æœåŠ¡å™¨(push)</h3><h3 id="mail-access-protocol-ä»æœåŠ¡å™¨æ£€ç´¢-pull"><a href="#mail-access-protocol-ä»æœåŠ¡å™¨æ£€ç´¢-pull" class="headerlink" title="mail access protocol:ä»æœåŠ¡å™¨æ£€ç´¢(pull)"></a>mail access protocol:ä»æœåŠ¡å™¨æ£€ç´¢(pull)</h3><ul>
<li><p>POP3:Post Office Protocol -version3(é‚®å±€åè®®ç‰ˆæœ¬3),server port 110</p>
<ul>
<li>authorization(è®¤è¯é˜¶æ®µ)</li>
<li>transaction,client</li>
<li>update</li>
<li><p>ç‰¹ç‚¹</p>
<ul>
<li>stateless protocol</li>
<li>POP3ä¸ä¼šè·¨ä¼šè¯ä¼ é€çŠ¶æ€ä¿¡æ¯</li>
<li>â€œä¸‹è½½å¹¶ä¿ç•™â€ï¼šä¸åŒå®¢æˆ·ç«¯ä¸Šçš„æ¶ˆæ¯å‰¯æœ¬</li>
</ul>
</li>
</ul>
</li>
<li><p>IMAP:Internet Mail Access Protocol(Interneté‚®ä»¶è®¿é—®åè®®)</p>
<ul>
<li>stateful protocol</li>
<li>èƒ½å¤Ÿç®¡ç†æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶,æ›´åŠ çš„å¤æ‚</li>
<li>å°†æ‰€æœ‰çš„æ¶ˆæ¯æ”¾åœ¨æœåŠ¡å™¨ä¸Šçš„ä¸€ä¸ªåœ°æ–¹</li>
<li>å…è®¸ç”¨æˆ·ç»„ç»‡æ–‡ä»¶å¤¹ä¸­çš„æ¶ˆæ¯</li>
<li>è·¨ä¼šè¯ä¿æŒç”¨æˆ·çŠ¶æ€ï¼ˆä¸POP3ä¸åŒï¼‰</li>
</ul>
</li>
<li><p>HTTP</p>
<ul>
<li>user agent is Web browser</li>
</ul>
</li>
</ul>
<h2 id="DNS"><a href="#DNS" class="headerlink" title="DNS"></a>DNS</h2><h3 id="feature"><a href="#feature" class="headerlink" title="feature"></a>feature</h3><ul>
<li>distributed database</li>
<li>application-layer-protocol</li>
<li>port 53,using UDP</li>
</ul>
<h3 id="DNS-servicesï¼šé€šå¸¸è¢«å…¶ä»–åº”ç”¨å±‚åè®®ä½¿ç”¨-åŒ…æ‹¬HTTPï¼ŒSMTPå’ŒFTP"><a href="#DNS-servicesï¼šé€šå¸¸è¢«å…¶ä»–åº”ç”¨å±‚åè®®ä½¿ç”¨-åŒ…æ‹¬HTTPï¼ŒSMTPå’ŒFTP" class="headerlink" title="DNS servicesï¼šé€šå¸¸è¢«å…¶ä»–åº”ç”¨å±‚åè®®ä½¿ç”¨ - åŒ…æ‹¬HTTPï¼ŒSMTPå’ŒFTP"></a>DNS servicesï¼šé€šå¸¸è¢«å…¶ä»–åº”ç”¨å±‚åè®®ä½¿ç”¨ - åŒ…æ‹¬HTTPï¼ŒSMTPå’ŒFTP</h3><ul>
<li>åŸŸååˆ°IPåœ°å€çš„è½¬æ¢</li>
<li>ä¸»æœºåˆ«å(host aliasing),è·å–ä¸»æœºåˆ«åå¯¹åº”çš„è§„èŒƒä¸»æœºååŠä¸»æœºIPåœ°å€</li>
<li>é‚®ä»¶æœåŠ¡å™¨åˆ«å</li>
<li>è´Ÿè½½åˆ†é…(load distribution)</li>
</ul>
<h3 id="centralize-DNSçš„ç¼ºç‚¹"><a href="#centralize-DNSçš„ç¼ºç‚¹" class="headerlink" title="centralize DNSçš„ç¼ºç‚¹"></a>centralize DNSçš„ç¼ºç‚¹</h3><ul>
<li>å•ç‚¹æ•…éšœ(single point of failure)</li>
<li>æµé‡è§„æ¨¡å¤§(traffic volume)</li>
<li>ç»´æŠ¤æˆæœ¬(maintenance)</li>
<li>æ— æ‰©å±•æ€§(doesnâ€™t scale)</li>
<li>è¿œè·ç¦»çš„é›†ä¸­å¼æ•°æ®åº“(distant centralized database)</li>
</ul>
<h3 id="åˆ†å¸ƒå¼å±‚æ¬¡æ•°æ®åº“"><a href="#åˆ†å¸ƒå¼å±‚æ¬¡æ•°æ®åº“" class="headerlink" title="åˆ†å¸ƒå¼å±‚æ¬¡æ•°æ®åº“"></a>åˆ†å¸ƒå¼å±‚æ¬¡æ•°æ®åº“</h3><ul>
<li><p>æ ¹DNSæœåŠ¡å™¨(root DNS server)</p>
<ul>
<li>13 root name sever</li>
<li>ä¸æœ¬åœ°åŸŸåæœåŠ¡å™¨(local name server)ç›´æ¥ç›¸è¿</li>
</ul>
</li>
<li><p>é¡¶çº§åŸŸDNSæœåŠ¡å™¨(TLD, top-level domain)</p>
</li>
<li><p>æƒå¨DNSæœåŠ¡å™¨(authoritative DNS sever)</p>
<ul>
<li>organizationâ€™s own DNS server(s), providing authoritative hostname to IP mappings for organizationâ€™s named hosts</li>
<li>can be maintained by organization (e.g. university, company)themselves or service provider</li>
</ul>
</li>
<li><p>æœ¬åœ°DNSæœåŠ¡å™¨(Local DNS name server)</p>
<ul>
<li>ä¸å±äºåˆ†å±‚ç»“æ„</li>
<li>ä¹Ÿå«ä½œé»˜è®¤åç§°æœåŠ¡å™¨</li>
<li>èƒ½å¤Ÿæœ‰æœ¬åœ°ç¼“å­˜</li>
<li>æ˜¯åƒä»£ç†ä¸€æ ·çš„è§’è‰²ï¼Œå‘é€è¯·æ±‚åˆ°åˆ†å±‚ç»“æ„</li>
</ul>
</li>
</ul>
<h3 id="Resolution-example"><a href="#Resolution-example" class="headerlink" title="Resolution example"></a>Resolution example</h3><ul>
<li><p>è¿­ä»£æŸ¥è¯¢(iterated query)</p>
<ul>
<li>å½“æ ¹åŸŸåæœåŠ¡å™¨æ”¶åˆ°æœ¬åœ°åŸŸåæœåŠ¡å™¨å‘å‡ºçš„è¿­ä»£æŸ¥è¯¢è¯·æ±‚æŠ¥æ–‡æ—¶ï¼Œè¦ä¹ˆç»™å‡ºæ‰€è¦æŸ¥è¯¢çš„IPåœ°å€ï¼Œè¦ä¹ˆå‘Šè¯‰æœ¬åœ°æœåŠ¡å™¨ï¼šâ€œä½ ä¸‹ä¸€æ­¥åº”å½“å‘å“ªä¸€ä¸ªåŸŸåæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢â€ã€‚ç„¶åè®©æœ¬åœ°æœåŠ¡å™¨è¿›è¡Œåç»­çš„æŸ¥è¯¢ã€‚æœ€åï¼ŒçŸ¥é“äº†æ‰€è¦è§£æçš„IPåœ°å€æˆ–æŠ¥é”™ï¼Œç„¶åæŠŠè¿™ä¸ªç»“æœè¿”å›ç»™å‘èµ·æŸ¥è¯¢çš„ä¸»æœºã€‚</li>
<li>usual method(å¸¸ç”¨æ¨¡å¼)</li>
</ul>
</li>
<li><p>é€’å½’æŸ¥è¯¢(recursive query)</p>
<ul>
<li>ç›´æ¥è¿”å›ä¸€ä¸ªæœ€ç»ˆç»“æœç»™æœ¬åœ°DNSæœåŠ¡å™¨</li>
<li>å°†åç§°è§£æçš„è´Ÿæ‹…æ”¾åœ¨è”ç³»çš„åç§°æœåŠ¡å™¨ä¸Š</li>
<li>å±‚æ¬¡ç»“æ„ä¸Šå±‚çš„é‡è´Ÿè·</li>
<li>å¦‚æœä¸»æœºæ‰€è¯¢é—®çš„æœ¬åœ°åŸŸåæœåŠ¡å™¨ä¸çŸ¥é“è¢«æŸ¥è¯¢çš„åŸŸåçš„IPåœ°å€ï¼Œé‚£ä¹ˆæœ¬åœ°åŸŸåæœåŠ¡å™¨å°±ä»¥DNSå®¢æˆ·çš„èº«ä»½ï¼Œå‘å…¶å®ƒæ ¹åŸŸåæœåŠ¡å™¨ç»§ç»­å‘å‡ºæŸ¥è¯¢è¯·æ±‚æŠ¥æ–‡(å³æ›¿ä¸»æœºç»§ç»­æŸ¥è¯¢)ï¼Œè€Œä¸æ˜¯è®©æœ¬åœ°æœåŠ¡å™¨è‡ªå·±è¿›è¡Œä¸‹ä¸€æ­¥æŸ¥è¯¢ã€‚å› æ­¤ï¼Œé€’å½’æŸ¥è¯¢è¿”å›çš„æŸ¥è¯¢ç»“æœæˆ–è€…æ˜¯æ‰€è¦æŸ¥è¯¢çš„IPåœ°å€ï¼Œæˆ–è€…æ˜¯æŠ¥é”™ï¼Œè¡¨ç¤ºæ— æ³•æŸ¥è¯¢åˆ°æ‰€éœ€çš„IPåœ°å€ã€‚</li>
</ul>
</li>
</ul>
<h3 id="DNS-Records"><a href="#DNS-Records" class="headerlink" title="DNS Records"></a>DNS Records</h3><ul>
<li>Resource records(RR) format;(Name,value,Type,TTL)</li>
<li><p>Type=A,æ ‡å‡†ä¸»æœºååˆ°IPçš„æ˜ å°„</p>
<ul>
<li>Name is hostname</li>
<li>Value is IP address</li>
</ul>
</li>
<li><p>Type=NS,åŸŸçš„æƒå¨åŸŸåæœåŠ¡å™¨</p>
<ul>
<li>Name is domain name(e.g.,foo.com)</li>
<li>Value is hostname of authoritative name server for this domain</li>
</ul>
</li>
<li><p>Type=CNAME,åˆ«åå¯¹åº”çš„è§„èŒƒä¸»æœºå</p>
<ul>
<li>Name is alias name (åˆ«å) for some â€œcanonicalâ€(the real) name (è§„èŒƒå)</li>
<li>Value is canonical name (è§„èŒƒå)</li>
</ul>
</li>
<li><p>Type=MX,åˆ«åå¯¹åº”çš„é‚®ä»¶æœåŠ¡å™¨çš„è§„èŒƒä¸»æœºå</p>
<ul>
<li>Name is alias name</li>
<li>Value is canonical name (è§„èŒƒå)of a mail server</li>
</ul>
</li>
</ul>
<h3 id="DNS-protocol-header-section-12-bytes-æ¯ä¸ªå­—æ®µæ˜¯2-bytes"><a href="#DNS-protocol-header-section-12-bytes-æ¯ä¸ªå­—æ®µæ˜¯2-bytes" class="headerlink" title="DNS protocol:header section(12 bytes),æ¯ä¸ªå­—æ®µæ˜¯2 bytes"></a>DNS protocol:header section(12 bytes),æ¯ä¸ªå­—æ®µæ˜¯2 bytes</h3><h3 id="nslookup-Tool-can-send-a-DNS-query-to-any-DNS-server-root-TLD-or-authoritative"><a href="#nslookup-Tool-can-send-a-DNS-query-to-any-DNS-server-root-TLD-or-authoritative" class="headerlink" title="nslookup Tool:can send a DNS query to any DNS server (root, TLD, or authoritative)"></a>nslookup Tool:can send a DNS query to any DNS server (root, TLD, or authoritative)</h3><h3 id="Inserting-records-into-DNS"><a href="#Inserting-records-into-DNS" class="headerlink" title="Inserting records into DNS"></a>Inserting records into DNS</h3><ul>
<li><p>step 1:åœ¨åŸŸåæ³¨å†ŒæœåŠ¡æœºæ„(DNS registrar)æ³¨å†ŒåŸŸå</p>
<ul>
<li>äº’è”ç½‘åç§°ä¸æ•°å­—åœ°å€åˆ†é…æœºæ„(ICANN,Internet Corporation for Assigned Names and Numbers)æˆæƒåŸŸåæ³¨å†ŒæœåŠ¡æœºæ„</li>
<li>æä¾›names, IP addresses of æƒå¨åŸŸåæœåŠ¡å™¨(åŒ…æ‹¬primaryä¸»è¦çš„+secondaryè¾…åŠ©çš„)</li>
<li>registrar inserts two RRs into .com TLD server<ol>
<li>(networkutopia.com, dns1.networkutopia.com, NS)//åŸŸçš„æƒå¨DNSæœåŠ¡å™¨åç§°</li>
<li>(dns1.networkutopia.com, 212.212.212.1, A)//ä¸»æœºååˆ°IPæ˜ å°„</li>
</ol>
</li>
</ul>
</li>
<li><p>Step 2:enter your authoritative name server(æƒå¨DNSæœåŠ¡å™¨)type A record for <a href="http://www.networkuptopia.com" target="_blank" rel="noopener">www.networkuptopia.com</a>; type MX record for mail.networkutopia.com</p>
</li>
</ul>
<h2 id="P2P-Applications"><a href="#P2P-Applications" class="headerlink" title="P2P Applications"></a>P2P Applications</h2><h3 id="BitTorrent"><a href="#BitTorrent" class="headerlink" title="BitTorrent"></a>BitTorrent</h3><ul>
<li>ç¨€å°‘èµ„æºä¼˜å…ˆ(rarest first)</li>
<li>ä»¥ç‰™è¿˜ç‰™ï¼Œä¸€ä¸ªä»¥å–„æ„åˆä½œä¸ºå‡ºå‘ç‚¹çš„åšå¼ˆç­–ç•¥(tit-for-tat</li>
<li>every 30 secs: randomly select another peer, starts sending chunks</li>
</ul>

	

	

</article>





	<span class="different-posts">ğŸ“– <a href="/page/9">more posts</a> ğŸ“–</span>



	</main>

	<footer class="footer">
	<div class="footer-content">
		
	      <div class="footer__element">
	<p>Hi there, <br>welcome to my Blog glad you found it. Have a look around, will you?</p>
</div>

	    
	      <div class="footer__element">
	<h5>Check out</h5>
	<ul class="footer-links">
		<li class="footer-links__link"><a href="/archives">Archive</a></li>
		
		  <li class="footer-links__link"><a href="/atom.xml">RSS</a></li>
	    
		<li class="footer-links__link"><a href="/about">about page</a></li>
		<li class="footer-links__link"><a href="/tags">Tags</a></li>
		<li class="footer-links__link"><a href="/categories">Categories</a></li>
	</ul>
</div>

	    

		<div class="footer-credit">
			<span>Â© 2020 Lexie oh | Powered by <a href="https://hexo.io/">Hexo</a> | Theme <a href="https://github.com/HoverBaum/meilidu-hexo">MeiliDu</a></span>
		</div>

	</div>


</footer>



</body>

</html>
